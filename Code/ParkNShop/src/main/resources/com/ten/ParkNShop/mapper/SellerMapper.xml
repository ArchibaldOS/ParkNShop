<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.ten.ParkNShop.mapper.SellerMapper" >
  <resultMap id="BaseResultMap" type="com.ten.ParkNShop.entity.Seller" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="sellerId" property="sellerId" jdbcType="INTEGER" />
    <result column="sellerName" property="sellerName" jdbcType="VARCHAR" />
    <result column="shopName" property="shopName" jdbcType="VARCHAR" />
    <result column="sellerPassword" property="sellerPassword" jdbcType="VARCHAR" />
    <result column="sellerEmail" property="sellerEmail" jdbcType="VARCHAR" />
    <result column="sellerPhone" property="sellerPhone" jdbcType="VARCHAR" />
    <result column="sellerBalance" property="sellerBalance" jdbcType="REAL" />
    <result column="shopIntroduction" property="shopIntroduction" jdbcType="VARCHAR" />
    <result column="shopStatus" property="shopStatus" jdbcType="INTEGER" />
  </resultMap>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    sellerId, sellerName, shopName, sellerPassword, sellerEmail, sellerPhone, sellerBalance,
    shopIntroduction, shopStatus
  </sql>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select 
    <include refid="Base_Column_List" />
    from seller
    where sellerId = #{sellerId,jdbcType=INTEGER}
  </select>
  <select id="selectByShopname" resultMap="BaseResultMap" parameterType="java.lang.String" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select
    <include refid="Base_Column_List" />
    from seller
    where shopname = #{shopname}
  </select>
  <select id="selectBySellername" resultMap="BaseResultMap" parameterType="java.lang.String" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select
    <include refid="Base_Column_List" />
    from seller
    where sellername = #{sellername}
  </select>

  <select id="selectShopStatus" resultType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select shopStatus
    from seller
    where sellerId = #{sellerId}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from seller
    where sellerId = #{sellerId,jdbcType=INTEGER}
  </delete>
  <insert id="insert" parameterType="com.ten.ParkNShop.entity.Seller" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into seller (sellerId, sellerName, shopName,
      sellerPassword, sellerEmail, sellerPhone, 
      sellerBalance, shopIntroduction, shopStatus
      )
    values (#{sellerId,jdbcType=INTEGER}, #{sellername,jdbcType=VARCHAR}, #{shopname,jdbcType=VARCHAR},
      #{sellerpassword,jdbcType=VARCHAR}, #{selleremail,jdbcType=VARCHAR}, #{sellerphone,jdbcType=VARCHAR}, 
      #{sellerbalance,jdbcType=REAL}, #{shopintroduction,jdbcType=VARCHAR}, #{shopstatus,jdbcType=INTEGER}
      )
  </insert>
  <insert id="insertSelective" parameterType="com.ten.ParkNShop.entity.Seller" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into seller
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="sellerId != null" >
        sellerId,
      </if>
      <if test="sellername != null" >
        sellerName,
      </if>
      <if test="shopname != null" >
        shopName,
      </if>
      <if test="sellerpassword != null" >
        sellerPassword,
      </if>
      <if test="selleremail != null" >
        sellerEmail,
      </if>
      <if test="sellerphone != null" >
        sellerPhone,
      </if>
      <if test="sellerbalance != null" >
        sellerBalance,
      </if>
      <if test="shopintroduction != null" >
        shopIntroduction,
      </if>
      <if test="shopstatus != null" >
        shopStatus,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="sellerId != null" >
        #{sellerId,jdbcType=INTEGER},
      </if>
      <if test="sellername != null" >
        #{sellername,jdbcType=VARCHAR},
      </if>
      <if test="shopname != null" >
        #{shopname,jdbcType=VARCHAR},
      </if>
      <if test="sellerpassword != null" >
        #{sellerpassword,jdbcType=VARCHAR},
      </if>
      <if test="selleremail != null" >
        #{selleremail,jdbcType=VARCHAR},
      </if>
      <if test="sellerphone != null" >
        #{sellerphone,jdbcType=VARCHAR},
      </if>
      <if test="sellerbalance != null" >
        #{sellerbalance,jdbcType=REAL},
      </if>
      <if test="shopintroduction != null" >
        #{shopintroduction,jdbcType=VARCHAR},
      </if>
      <if test="shopstatus != null" >
        #{shopstatus,jdbcType=INTEGER},
      </if>
    </trim>
  </insert>
  <update id="updateShopStatusToWaitToApproved" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    UPDATE seller
    SET shopStatus = 0
    where sellerId = #{sellerId}
  </update>
  <update id="updateShopStatusToApproved" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    UPDATE seller
    SET shopStatus = 1
    where sellerId = #{sellerId}
  </update>
  <update id="updateShopStatusToUnapproved" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    UPDATE seller
    SET shopStatus = 2
    where sellerId = #{sellerId}
  </update>
  <update id="updateShopStatusToBan" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    UPDATE seller
    SET shopStatus = 3
    where sellerId = #{sellerId}
  </update>
  <select id="selectAllRegisterShop" parameterType="int" resultMap="BaseResultMap">
    SELECT
    sellerId,
    sellerName,
    shopName,
    sellerPassword,
    sellerEmail,
    sellerPhone,
    sellerBalance,
    shopIntroduction,
    shopStatus
    FROM
    seller
    WHERE shopStatus = 0
    LIMIT #{start},#{pageSize}
  </select>
  <select id="selectAllApprovedShop" parameterType="int" resultMap="BaseResultMap">
    SELECT
    sellerId,
    sellerName,
    shopName,
    sellerPassword,
    sellerEmail,
    sellerPhone,
    sellerBalance,
    shopIntroduction,
    shopStatus
    FROM
    seller
    WHERE shopStatus = 1
    LIMIT #{start},#{pageSize}
  </select>
  <select id="selectAllUnapprovedShop" parameterType="int" resultMap="BaseResultMap">
    SELECT
    sellerId,
    sellerName,
    shopName,
    sellerPassword,
    sellerEmail,
    sellerPhone,
    sellerBalance,
    shopIntroduction,
    shopStatus
    FROM
    seller
    WHERE shopStatus = 2
    LIMIT #{start},#{pageSize}
  </select>
  <select id="selectAllBlacklistShop" parameterType="int" resultMap="BaseResultMap">
    SELECT
    sellerId,
    sellerName,
    shopName,
    sellerPassword,
    sellerEmail,
    sellerPhone,
    sellerBalance,
    shopIntroduction,
    shopStatus
    FROM
    seller
    WHERE shopStatus = 3
    LIMIT #{start},#{pageSize}
  </select>

  <select id="countAll" resultType="int">
    SELECT COUNT(1) FROM seller
  </select>
  <update id="updateByPrimaryKeySelective" parameterType="com.ten.ParkNShop.entity.Seller" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update seller
    <set >
      <if test="sellername != null" >
        sellerName = #{sellername,jdbcType=VARCHAR},
      </if>
      <if test="shopname != null" >
        shopName = #{shopname,jdbcType=VARCHAR},
      </if>
      <if test="sellerpassword != null" >
        sellerPassword = #{sellerpassword,jdbcType=VARCHAR},
      </if>
      <if test="selleremail != null" >
        sellerEmail = #{selleremail,jdbcType=VARCHAR},
      </if>
      <if test="sellerphone != null" >
        sellerPhone = #{sellerphone,jdbcType=VARCHAR},
      </if>
      <if test="sellerbalance != null" >
        sellerBalance = #{sellerbalance,jdbcType=REAL},
      </if>
      <if test="shopintroduction != null" >
        shopIntroduction = #{shopintroduction,jdbcType=VARCHAR},
      </if>
      <if test="shopstatus != null" >
        shopStatus = #{shopstatus,jdbcType=INTEGER},
      </if>
    </set>
    where sellerId = #{sellerId,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.ten.ParkNShop.entity.Seller" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update seller
    set sellerName = #{sellerName,jdbcType=VARCHAR},
      shopName = #{shopName,jdbcType=VARCHAR},
      sellerPassword = #{sellerPassword,jdbcType=VARCHAR},
      sellerEmail = #{sellerEmail,jdbcType=VARCHAR},
      sellerPhone = #{sellerPhone,jdbcType=VARCHAR},
      sellerBalance = #{sellerBalance,jdbcType=REAL},
      shopIntroduction = #{shopIntroduction,jdbcType=VARCHAR},
      shopStatus = #{shopStatus,jdbcType=INTEGER}
    where sellerId = #{sellerId,jdbcType=INTEGER}
  </update>
  
  <insert id="sellerRegister" parameterType="com.ten.ParkNShop.entity.Seller" keyProperty="sellerId">
    insert into seller(sellerName,shopName,sellerPassword,sellerEmail,sellerPhone,sellerAddress,sellerBalance,shopIntroduction,shopStatus)
    values( #{sellerName}, #{shopName}, #{sellerPassword}, #{sellerEmail}, #{sellerPhone}, #{sellerAddress}, 0, #{shopIntroduction}, 0 )
  </insert>

  <select id="findBySellerEmail" parameterType="java.lang.String" resultType="com.ten.ParkNShop.entity.Seller">
    SELECT
    *
    FROM seller
    WHERE sellerEmail = #{sellerEmail} and sellerPassword = #{sellerPassword}
  </select>

  <select id="findByEmail" parameterType="java.lang.String" resultType="int">
    SELECT
    count(1)
    FROM
    seller
    WHERE
    sellerEmail = #{sellerEmail};
  </select>

	
  <update id="updateBySellerId" parameterType="Seller">
		update seller set sellerName = #{sellerName}, shopName = #{shopName}, sellerPhone = #{sellerPhone}, sellerEmail = #{sellerEmail},sellerAddress = #{sellerAddress}, shopIntroduction = #{shopIntroduction}
		where sellerId = #{sellerId} 
  </update>

  <update id="updateBalance" >
    update seller set sellerBalance = #{sellerBalance}
    where sellerId = #{sellerId}
  </update>


</mapper>